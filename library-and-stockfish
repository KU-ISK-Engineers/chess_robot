import chess.engine

def play_chess():
    # Start the Stockfish engine
    engine = chess.engine.SimpleEngine.popen_uci("stockfish\stockfish-windows-x86-64-avx2.exe")

    # Start a new game
    board = chess.Board()

    while not board.is_game_over():
        print(board)

        if board.turn == chess.WHITE:
            # Person's move
            while True:
                try:
                    person_move = input("Enter your move (e.g., e2e4): ")
                    move = chess.Move.from_uci(person_move)
                    if move in board.legal_moves:
                        board.push(move)
                        break
                    else:
                        print("Invalid move, try again.")
                except ValueError:
                    print("Invalid move format, try again.")

        else:
            # Stockfish's move
            result = engine.play(board, chess.engine.Limit(time=0.1))
            best_move = result.move
            board.push(best_move)

    print("Game Over")
    print("Result:", board.result())
    engine.quit()

if __name__ == "__main__":
    play_chess()

